# 3. Footprinting et fingerprinting

La collecte d’informations \(information gathering\) encore appelée prise d’empreinte précède toujours un audit et, dans le cas d’un pirate, une attaque.

On peut la séparer en deux catégories :

* Le **footprinting**, appelé reconnaissance passive en français.
* Le **fingerprinting**, ou reconnaissance active, d’un type plus agressif

Cela est effectué par le biais de plusieurs techniques :

* Requêtes [DNS](https://fr.wikipedia.org/wiki/Domain_name_system) ;
* Énumération réseau ;
* Requêtes réseau ;
* Identification du [Système d'exploitation](https://fr.wikipedia.org/wiki/Syst%C3%A8me_d%27exploitation) ;
* Requêtes sur l'organisation ;
* Balayage [Ping](https://fr.wikipedia.org/wiki/Ping_%28logiciel%29) ;
* Requêtes sur les points de contacts ;
* [Scan de port](https://fr.wikipedia.org/wiki/Balayage_de_port) ;
* Requêtes auprès des registrars \(requêtes [WHOIS](https://fr.wikipedia.org/wiki/WHOIS)\) ;
* Requêtes [SNMP](https://fr.wikipedia.org/wiki/Simple_Network_Management_Protocol) ;
* Navigation du [World Wide Web](https://fr.wikipedia.org/wiki/World_Wide_Web).

Dans le jargon de la sécurité informatique, le footprinting et le fingerprinting se réfère généralement aux étapes précédant une attaque.

### **Netdiscover**

Il existe quantité d’outils de mapping réseau, ces outils permettant d’effectuer une écoute passive ou une découverte active du réseau pour essayer d’y trouver des hôtes via leur IP. C’est souvent l’une des ****premières phase d’une attaque informatique ou parfois utilisés lors des audits de réseaux informatiques. Bien que l’un des outils les plus avancés et connus soit **nmap**, il en existe d’autres comme **netdiscover** qui sont intéressant à connaitre et à utiliser. **netdiscover** ce différencie **d’nmap** par la méthode qu’il utilise pour effectuer la découverte du réseau.

**Netdiscover** est donc un outil de mapping réseau qui fonctionne via des requêtes **ARP** et nom via l’IP comme la plupart des outils. Il n’est surement pas le seul  à utiliser cette méthode mais il est plutôt simple d’utilisation et de fonctionnement.

```text
$ sudo apt install netdiscover
$ sudo netdiscover
```

![](https://lh5.googleusercontent.com/37ranSXih_9QSNdLGmPTFEFOytHYohW5CPicG-Hfq09NXRAHSdqoqrKCdcod8sPIFIsr7ei3j3r2i93Hy5fJ8fzx88rSaS_Eyfh4a-mqIeCpbFVuIf45giYqsSvcd4kA5PgkNmcH)

{% hint style="info" %}
192.168.200.128 est l'adresse IP de la machine vulnérable
{% endhint %}

### Nmap

{% embed url="https://nmap.org/" %}

**Nmap** est un scanner de ports libre créé par Fyodor et distribué par Insecure.org. Il est conçu pour détecter les ports ouverts, identifier les services hébergés et obtenir des informations sur le système d'exploitation d'un ordinateur distant.

```text
$ sudo apt install nmap
$ nmap 192.168.200.128
```

![](https://lh5.googleusercontent.com/_IzgFeq-LGtipgosy_cBnmoKb9iJOr09oOevKZnN7Ew_AVO7bQrV1ktptdiCURyOIVtZcvR-5XApd8SnXwoF_Ei0dSxdnVGBWe_z9t4O9rXL39g36FzrmFMzm8j_1YRC_2kwS0GM)

{% hint style="info" %}
Les ports 22 est 80 sont accessibles sur la machine vénérable
{% endhint %}

### Navigation sur le site Web

![](https://lh3.googleusercontent.com/MCFpdhR9rJscOTH-k5-Ib8sFzZXqT2VYT4TlSVXhoi4NIjKg9A56zBAn1OWG4DNOWW0GmOvWswmwh5dVRClz8NiB9Lw7xo_1gS__anOrgnMaNTehs9E1X1Turty7vkMOL0Ba1WLY)

Essayons de trouver si le site est vulnérable aux injections SQL

![](../../../.gitbook/assets/image%20%2822%29.png)

Bingo, en ajoutant `'` au paramètre `id` du script `cat.php`, on obtient une erreur de syntaxe SQL. Techniquement, le code PHPqui se cache derrière cela est le suivant :

![](../../../.gitbook/assets/image%20%2820%29.png)

La valeur fournie à l'utilisateur `($_GET["id])` est directement répercutée dans la requête SQL sur la ligne 3. Si un utilisateur tente d'accéder à l'URL `(/cat.php?id=2')`, la requête suivante sera exécutée `(SELECT * FROM articles WHERE id=2')`.

Cependant, la syntaxe de cette requête SQL est incorrecte à cause de l'unique guillemet `(')` et la base de données lancera une erreur qui est mauvaise.

{% hint style="info" %}
Ne montrez pas vos codes de débogage et d'erreur à un pirate
{% endhint %}

